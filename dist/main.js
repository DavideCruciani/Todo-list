(()=>{"use strict";function e(){document.querySelector(".overlay").classList.remove("active"),document.querySelector(".modal").classList.remove("active"),document.querySelector("#miss").textContent="";const e=document.getElementById("tname"),t=document.getElementById("tdesc"),n=document.getElementById("tpty"),d=document.getElementById("ddate");e.value="",t.value="",n.value="",d.value=""}document.getElementById("create-task-button").addEventListener("click",(function(){const t=document.querySelector(".overlay");t.classList.add("active"),document.querySelector(".modal").classList.add("active"),t.addEventListener("click",e)}));let t=[];class n{constructor(e,t,n,d){this.name=e,this.description=t,this.priority=n,this.dueDate=d}}function d(d,i,c,o){let s=new n(d,i,c,o);t.push(s),function(t){const n=document.createElement("div");n.classList.add("task"),n.setAttribute("id",t.name),"Low"==t.priority?n.classList.add("low"):"Medium"==t.priority?n.classList.add("medium"):n.classList.add("high"),document.getElementById("content-holder").appendChild(n);const d=document.createElement("div");d.classList.add("taskCntDivider"),n.appendChild(d);const i=document.createElement("p");d.appendChild(i),i.innerText=t.name;const c=document.createElement("p");c.classList.add("DueDate"),d.appendChild(c),c.innerText=t.dueDate;const o=document.createElement("div");n.appendChild(o),o.classList.add("taskCntDivider2");const s=document.createElement("button");o.appendChild(s),s.innerText="Remove",s.classList.add("taskBtns"),s.setAttribute("id","removeBtn"),s.addEventListener("click",a);const u=document.createElement("button");o.appendChild(u),u.innerText="Modify",u.classList.add("taskBtns"),u.setAttribute("id","modifyBtn"),u.addEventListener("click",l);const m=document.getElementById("tname"),r=document.getElementById("tdesc"),v=document.getElementById("tpty"),y=document.getElementById("ddate");m.value="",r.value="",v.value="",y.value="",u.addEventListener("click",l),e()}(s)}function a(e){const n=e.target.parentElement.parentElement,d=e.target.parentElement.parentElement.firstChild.firstChild.textContent;for(let e=0;e<t.length;e++)t[e].name==d&&t.splice(e,1);n.remove()}function l(e){const n=e.target.parentElement.parentElement,d=e.target.parentElement.parentElement.firstChild.firstChild.textContent;for(let a=0;a<t.length;a++)if(t[a].name==d){document.querySelector(".modal2").classList.add("active");const d=document.querySelector(".overlay");d.classList.add("active"),d.addEventListener("click",i);const l=document.querySelector("#tname2");l.value=t[a].name;const c=document.querySelector("#tdesc2");c.value=t[a].description;const o=document.querySelector("#tpty2");o.value=t[a].priority;const s=document.querySelector("#ddate2");s.value=t[a].dueDate,document.querySelector("#addButton2").addEventListener("click",(d=>{d.preventDefault(),n.getAttribute("id")==l.value&&(n.classList.remove("low","medium","high"),t[a].name=l.value,t[a].description=c.value,t[a].priority=o.value,t[a].dueDate=s.value,"Low"==o.value?n.classList.add("low"):"Medium"==o.value?n.classList.add("medium"):"High"==o.value&&n.classList.add("high"),e.target.parentElement.parentElement.firstChild.firstChild.textContent=`${l.value}`,e.target.parentElement.parentElement.firstChild.firstChild.nextElementSibling.textContent=`${s.value}`,i())}))}}function i(){document.querySelector(".overlay").classList.remove("active"),document.querySelector(".modal2").classList.remove("active")}document.getElementById("addButton").addEventListener("click",(e=>{e.preventDefault();const n=document.getElementById("tname"),a=document.getElementById("tdesc"),l=document.getElementById("tpty"),i=document.getElementById("ddate");if(""!==n.value&&""!==a.value&&""!==l.value&&""!==i.value&&void 0===t.find((e=>e.name===n.value)))d(document.getElementById("tname").value,document.getElementById("tdesc").value,document.getElementById("tpty").value,document.getElementById("ddate").value);else if(t.find((e=>e.name===n.value)))return void(document.querySelector("#miss").textContent="You already have a Task with this name")})),document.getElementById("button").addEventListener("click",(function(){const e=document.querySelector("nav");"none"!=e.style.display?e.style.display="none":e.style.display="inline"})),d("Compiti Italiano","Dante pg256","High","2023-01-31"),d("Compiti Matematica","Frazioni pg456","Medium","2023-01-31")})();