(()=>{"use strict";function e(){document.querySelector(".overlay").classList.remove("active"),document.querySelector(".modal").classList.remove("active"),document.querySelector("#miss").textContent="";const e=document.getElementById("tname"),t=document.getElementById("tdesc"),n=document.getElementById("tpty"),d=document.getElementById("ddate");e.value="",t.value="",n.value="",d.value=""}document.getElementById("create-task-button").addEventListener("click",(function(){const t=document.querySelector(".overlay");t.classList.add("active"),document.querySelector(".modal").classList.add("active"),t.addEventListener("click",e)}));let t=[];class n{constructor(e,t,n,d){this.name=e,this.description=t,this.priority=n,this.dueDate=d}}function d(e,d,o,c){let l=new n(e,d,o,c);t.push(l),localStorage.setItem("tasks",JSON.stringify(t)),a(l)}function a(t){const n=document.createElement("div");n.classList.add("task"),"Low"==t.priority?n.classList.add("low"):"Medium"==t.priority?n.classList.add("medium"):n.classList.add("high"),document.getElementById("content-holder").appendChild(n);const d=document.createElement("div");d.classList.add("taskCntDivider"),n.appendChild(d);const a=document.createElement("p");d.appendChild(a),a.innerText=t.name;const c=document.createElement("p");c.classList.add("DueDate"),d.appendChild(c),c.innerText=t.dueDate;const i=document.createElement("div");n.appendChild(i),i.classList.add("taskCntDivider2");const m=document.createElement("button");i.appendChild(m),m.innerText="Info",m.classList.add("taskBtns"),m.setAttribute("id","infoBtn"),m.addEventListener("click",o);const u=document.createElement("button");i.appendChild(u),u.innerText="Remove",u.classList.add("taskBtns"),u.setAttribute("id","removeBtn"),u.addEventListener("click",l);const r=document.createElement("button");i.appendChild(r),r.innerText="Modify",r.classList.add("taskBtns"),r.setAttribute("id","modifyBtn"),r.addEventListener("click",s);const v=document.getElementById("tname"),y=document.getElementById("tdesc"),E=document.getElementById("tpty"),g=document.getElementById("ddate");v.value="",y.value="",E.value="",g.value="",r.addEventListener("click",s),e()}function o(e){const n=e.target.parentElement.parentElement.firstChild.firstChild.textContent,d=t.find((e=>e.name===n)),a=document.querySelector(".overlay3"),o=document.querySelector(".modal3");a.classList.add("active"),o.classList.add("active");const l=document.getElementById("tname3"),s=document.getElementById("tdesc3"),i=document.getElementById("tpty3"),m=document.getElementById("ddate3");l.textContent=d.name,s.textContent=d.description,i.textContent=d.priority,m.textContent=d.dueDate,document.querySelector("#addButton3").addEventListener("click",c)}function c(){document.querySelector(".overlay3").classList.remove("active"),document.querySelector(".modal3").classList.remove("active")}function l(e){const n=e.target.parentElement.parentElement,d=e.target.parentElement.parentElement.firstChild.firstChild.textContent;for(let e=0;e<t.length;e++)t[e].name==d&&t.splice(e,1);localStorage.setItem("tasks",JSON.stringify(t)),n.remove()}function s(e){e.preventDefault();const n=e.target.parentElement.parentElement.firstChild.firstChild.textContent,d=e.target.parentElement.parentElement,a=t.find((e=>e.name===n)),o=document.querySelector(".overlay2"),c=document.querySelector(".modal2");o.classList.add("active"),c.classList.add("active");const l=document.getElementById("tname2"),s=document.getElementById("tdesc2"),m=document.getElementById("tpty2"),u=document.getElementById("ddate2"),r=a.name;l.value=a.name,s.value=a.description,m.value=a.priority,u.value=a.dueDate;const v=document.querySelector("#addButton2");v.addEventListener("click",function(e,n){for(let e=0;e<t.length;e++)t[e].name==n&&t.splice(e,1);localStorage.setItem("tasks",JSON.stringify(t)),e.remove()}(d,r)),v.addEventListener("click",i)}const i=e=>{e.preventDefault();const n=document.getElementById("tname2"),a=document.getElementById("tdesc2"),o=document.getElementById("tpty2"),c=document.getElementById("ddate2");if(""!==n.value&&""!==a.value&&""!==o.value&&""!==c.value&&void 0===t.find((e=>e.name===n.value))){d(document.getElementById("tname2").value,document.getElementById("tdesc2").value,document.getElementById("tpty2").value,document.getElementById("ddate2").value);const e=document.querySelector(".overlay2"),t=document.querySelector(".modal2");e.classList.remove("active"),t.classList.remove("active")}else if(t.find((e=>e.name===n.value)))return void(document.querySelector("#miss2").textContent="You already have a Task with this name")};document.getElementById("addButton").addEventListener("click",(e=>{e.preventDefault();const n=document.getElementById("tname"),a=document.getElementById("tdesc"),o=document.getElementById("tpty"),c=document.getElementById("ddate");if(""!==n.value&&""!==a.value&&""!==o.value&&""!==c.value&&void 0===t.find((e=>e.name===n.value)))d(document.getElementById("tname").value,document.getElementById("tdesc").value,document.getElementById("tpty").value,document.getElementById("ddate").value);else if(t.find((e=>e.name===n.value)))return void(document.querySelector("#miss").textContent="You already have a Task with this name")})),window.onload=function(){null===sessionStorage.getItem("pageLoaded")&&(d("Compiti Italiano","Dante pg256","High","2023-01-31"),d("Compiti Matematica","Frazioni pg456","Medium","2023-01-31"),sessionStorage.setItem("pageLoaded",!0))};const m=localStorage.getItem("tasks");m&&(t=JSON.parse(m),t.forEach((e=>a(e)))),document.getElementById("button").addEventListener("click",(function(){const e=document.querySelector("nav");"none"!=e.style.display?e.style.display="none":e.style.display="inline"}))})();